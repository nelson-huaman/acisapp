(()=>{var e={431:()=>{!function(){if(document.querySelector("#registros")){const t=document.querySelector("#cliente-nuevo"),a=document.querySelector(".dashboard"),l=document.querySelector('[name="id"]'),r=document.querySelector("#buscar-clientes"),i=document.querySelector("#listado-clientes");let c=[],d=[],s=[],u=[],m=[];function e(){for(;i.firstChild;)i.removeChild(i.firstChild);if(d.length>0)d.forEach(e=>{const n=document.createElement("LI");n.classList.add("listado-clientes__cliente"),n.textContent=e.documento+" - "+e.nombre+" "+e.apellidos,n.dataset.id=e.id,n.onclick=o,i.appendChild(n)});else{const e=document.createElement("P");e.textContent="Registro no encontrado",i.appendChild(e)}}function o(e){const o=e.target,n=o.dataset.id,t=document.querySelector(".listado-clientes__cliente--seleccionado");t&&t.classList.remove("listado-clientes__cliente--seleccionado"),o.classList.add("listado-clientes__cliente--seleccionado"),l.value=n;const a=document.querySelector("#datos-cliente");for(;a.firstChild;)a.removeChild(a.firstChild);arrayCliente=c.filter(e=>e.id===n),arrayCliente.forEach(e=>{const o=document.createElement("DIV");o.classList.add("datos-cliente__campo"),o.innerHTML=`\n               <span>Documento</span><p>${e.documento}</p>\n            `;const n=document.createElement("DIV");n.classList.add("datos-cliente__campo"),n.innerHTML=`\n               <span>Nombres</span><p>${e.nombre}</p>\n            `;const t=document.createElement("DIV");t.classList.add("datos-cliente__campo"),t.innerHTML=`\n               <span>Apellidos</span><p>${e.apellidos}</p>\n            `;const l=document.createElement("DIV");l.classList.add("datos-cliente__campo"),l.innerHTML=`\n               <span>Correo</span><p>${e.correo}</p>\n            `;const r=document.createElement("DIV");r.classList.add("datos-cliente__campo"),r.innerHTML=`\n               <span>Teléfono</span><p>${e.telefono}</p>\n            `,a.appendChild(o),a.appendChild(n),a.appendChild(t),a.appendChild(l),a.appendChild(r)}),function(){const e=document.querySelector(".table__tbody");for(;e.firstChild;)e.removeChild(e.firstChild);console.log(m);const o=m.filter(e=>e.cliente===l.value);if(0!==o.length)o.map(e=>{const o=document.querySelector(".table__tbody"),n=document.createElement("TR");n.classList.add("table__tr");const t=document.createElement("TD");t.classList.add("table__td"),t.textContent=e.id;const a=document.createElement("TD");a.classList.add("table__td"),a.textContent=e.programa;const l=document.createElement("TD");l.classList.add("table__td"),l.textContent=e.beneficio;const r=document.createElement("TD");r.classList.add("table__td"),r.textContent=e.asesor;const i=document.createElement("TD");i.classList.add("table__td");const c=document.createElement("BUTTON");c.classList.add("table__boton"),c.textContent="Pagar",i.appendChild(c),n.appendChild(t),n.appendChild(a),n.appendChild(l),n.appendChild(r),n.appendChild(i),n.appendChild(i),o.appendChild(n)});else{const e=document.querySelector(".table__tbody"),o=document.createElement("TR");o.classList.add("table__tr","table__td--noregistro");const n=document.createElement("TD");n.classList.add("table__td"),n.setAttribute("colspan","5"),n.textContent="No hay Matrículas áun",o.appendChild(n),e.appendChild(o)}}()}function n(e,o,n){const t=document.querySelector(".alerta");t&&t.remove();const a=document.createElement("DIV");a.classList.add("alerta","alerta--"+o),a.textContent=e,n.parentElement.insertBefore(a,n.nextElementSibling),setTimeout(()=>{a.remove()},2e3)}!async function(){const e=await fetch("/api/usuarios"),o=await e.json();c=o.map(e=>({id:e.id.trim(),nombre:""+e.nombre.trim(),documento:""+e.numeroDocumento.trim(),apellidos:`${e.apellidoPaterno.trim()} ${e.apellidoMaterno.trim()}`,correo:""+e.email.trim(),telefono:""+e.telefono.trim()}))}(),async function(){const e=await fetch("/api/profesiones"),o=await e.json();s=o.map(e=>({id:e.id,nombre:e.profesion}))}(),async function(){const e=await fetch("/api/grados"),o=await e.json();u=o.map(e=>({id:e.id,nombre:e.gradoAcademico}))}(),async function(){const e=await fetch("/api/matriculas"),o=await e.json();m=o.map(e=>({id:e.id,programa:""+e.servicio.codigo,beneficio:""+e.beneficio.tipoBeneficio,cliente:e.cliente.id,asesor:""+e.usuario.nombre}))}(),t.addEventListener("click",(function(){!function(){const o=document.createElement("DIV");o.classList.add("modal"),o.innerHTML='\n            <form class="formulario usuario-nuevo">\n               <fieldset class="formulario__fieldset">\n                  <legend>Información Personal</legend>\n                  <div class="formulario__colunm">\n                     <div class="formulario__row">\n                        <label for="tipoDocumento" class="formulario__label">Tipo de Documento</label>\n                        <select\n                           name="tipoDocumento"\n                           id="tipoDocumento"\n                           class="formulario__select"\n                        >\n                           <option value="">-- Seleccionar --</option>\n                           <option value="DNI">DNI</option>\n                           <option value="CE">Carnet Extranjería</option>\n                        </select>\n                     </div>\n                     <div class="formulario__row">\n                        <label for="numeroDocumento" class="formulario__label">Documento de Identidad</label>\n                        <input\n                           type="text"\n                           name="numeroDocumento"\n                           id="numeroDocumento"\n                           placeholder="Documento de Identidad"\n                           value=""\n                           class="formulario__input"\n                        >\n                     </div>\n                  </div>\n\n                  <div class="formulario__row">\n                     <label for="email" class="formulario__label">Correo</label>\n                     <input\n                        type="email"\n                        name="email"\n                        id="email"\n                        placeholder="Correo"\n                        value=""\n                        class="formulario__input"\n                     >\n                  </div>\n                  <div class="formulario__row">\n                     <label for="nombre" class="formulario__label">Nombres</label>\n                     <input\n                        type="text"\n                        name="nombre"\n                        id="nombre"\n                        placeholder="Nombres"\n                        value=""\n                        class="formulario__input"\n                     >\n                  </div>\n                  <div class="formulario__colunm">\n                     <div class="formulario__row">\n                        <label for="apellidoPaterno" class="formulario__label">Apellido Paterno</label>\n                        <input\n                           type="text"\n                           name="apellidoPaterno"\n                           id="apellidoPaterno"\n                           placeholder="Apellido Paterno"\n                           value=""\n                           class="formulario__input"\n                        >\n                     </div>\n                     <div class="formulario__row">\n                        <label for="apellidoMaterno" class="formulario__label">Apellido Materno</label>\n                        <input\n                           type="text"\n                           name="apellidoMaterno"\n                           id="apellidoMaterno"\n                           placeholder="Apellido Materno"\n                           value=""\n                           class="formulario__input"\n                        >\n                     </div>\n                  </div>\n                  <div class="formulario__row">\n                     <label for="fechaNacimiento" class="formulario__label">Fecha de Nacimiento</label>\n                     <input\n                        type="date"\n                        name="fechaNacimiento"\n                        id="fechaNacimiento"\n                        placeholder="Fecha de Nacimiento"\n                        value=""\n                        class="formulario__input"\n                     >\n                  </div>\n                  <div class="formulario__row">\n                     <label for="telefono" class="formulario__label">Teléfono</label>\n                     <input\n                        type="text"\n                        name="telefono"\n                        id="telefono"\n                        placeholder="Teléfono"\n                        value=""\n                        class="formulario__input"\n                     >\n                  </div>\n                  <div class="formulario__colunm">\n                     <div class="formulario__row">\n                        <label for="profesion" class="formulario__label">Elige una profesión</label>\n                        <select\n                           name="idProfesion"\n                           id="profesion"\n                           class="formulario__select"\n                        >\n                           <option value="1" seleted>-- Seleccionar --</option>\n                        </select>\n                     </div>\n                     <div class="formulario__row">\n                        <label for="grado" class="formulario__label">Grado Académico</label>\n                        <select\n                           name="idGrado"\n                           id="grado"\n                           class="formulario__select"\n                        >\n                           <option value="1">-- Seleccionar --</option>\n                        </select>\n                     </div>\n                  </div>\n                  \n                  <div class="formulario__row">\n                     <label for="colegiatura" class="formulario__label">Colegiatura</label>\n                     <input\n                        type="text"\n                        name="colegiatura"\n                        id="colegiatura"\n                        placeholder="Colegiatura"\n                        value=""\n                        class="formulario__input"\n                     >\n                  </div>\n                  <div class="opciones">\n                     <input type="submit" class="registro-nuevo" value="Registrar"/>\n                     <button type="button" class="cerrar-modal">Cancelar</button>\n                  </div>\n               </fieldset>\n            </form>\n         ',setTimeout(()=>{document.querySelector(".formulario").classList.add("animar")},0),o.addEventListener("click",(function(t){if(t.preventDefault(),t.target.classList.contains("cerrar-modal")&&(document.querySelector(".formulario").classList.add("cerrar"),setTimeout(()=>{o.remove()},200)),t.target.classList.contains("registro-nuevo")){const o=document.querySelector("#tipoDocumento").value.trim();if(""===o)return void n("Tipo de documento es obligatorio","error",document.querySelector(".formulario legend"));const t=document.querySelector("#numeroDocumento").value.trim();if(""===t)return void n("El número de documento es obligatorio","error",document.querySelector(".formulario legend"));const a=document.querySelector("#email").value.trim();if(""===a)return void n("El correo es obligatorio","error",document.querySelector(".formulario legend"));const r=document.querySelector("#nombre").value.trim();if(""===r)return void n("El nombre es obligatorio","error",document.querySelector(".formulario legend"));const i=document.querySelector("#apellidoPaterno").value.trim();if(""===i)return void n("El apellido paterno es obligatorio","error",document.querySelector(".formulario legend"));const d=document.querySelector("#apellidoMaterno").value.trim();if(""===d)return void n("El apellido materno es obligatorio","error",document.querySelector(".formulario legend"));const s=document.querySelector("#fechaNacimiento").value.trim();""===s&&(s="1991-01-01"),async function(o){const n=new FormData;n.append("nombre",o.nombre),n.append("apellidoPaterno",o.apellidoPaterno),n.append("apellidoMaterno",o.apellidoMaterno),n.append("fechaNacimiento",o.fechaNacimiento),n.append("tipoDocumento",o.tipoDocumento),n.append("numeroDocumento",o.numeroDocumento),n.append("email",o.email),n.append("telefono",o.telefono),n.append("idProfesion",o.idProfesion),n.append("idGrado",o.idGrado),n.append("colegiatura",o.colegiatura);try{const o="/api/usuarios/crear",t=await fetch(o,{method:"POST",body:n}),a=await t.json();if("exito"===a.tipo){const o=document.querySelector(".modal");setTimeout(()=>{o.remove()},600);const n={id:String(a.id),nombre:nombre.value,documento:numeroDocumento.value,apellidos:apellidoPaterno.value+" "+apellidoMaterno.value,correo:email.value,telefono:telefono.value};c=[...c,n],l.value=a.id,e()}}catch(e){console.log(e)}}({nombre:""+r,apellidoPaterno:""+i,apellidoMaterno:""+d,fechaNacimiento:""+s,tipoDocumento:""+o,numeroDocumento:""+t,email:""+a,telefono:""+document.querySelector("#telefono").value.trim(),idProfesion:""+document.querySelector("#profesion").value.trim(),idGrado:""+document.querySelector("#grado").value.trim(),colegiatura:""+document.querySelector("#colegiatura").value.trim()})}})),a.appendChild(o);const t=document.querySelector("#profesion");t&&s.forEach(e=>{const o=document.createElement("OPTION");o.value=e.id,o.textContent=e.nombre,t.appendChild(o)});const r=document.querySelector("#grado");r&&u.forEach(e=>{const o=document.createElement("OPTION");o.value=e.id,o.textContent=e.nombre,r.appendChild(o)})}()})),r.addEventListener("input",(function(o){const n=o.target.value;if(n.length>3){const e=new RegExp(n.normalize("NFD").replace(/[\u0300-\u036f]/g,""),"i");d=c.filter(o=>{if(-1!=o.documento.toLowerCase().search(e))return o})}else d=[];e()}))}}()},398:()=>{!function(){const e=document.querySelector("#sidebar");if(e){const n=document.querySelector(".header__open-mobil"),t=document.querySelector(".header__open-pc"),a=document.querySelector(".sidebar__close"),l=document.querySelector(".sidebar__div"),r=document.querySelector(".expandir"),i="sidebar__show",c="sidebar__toogle",d="no-transition";let s;function o(){e.querySelectorAll("*").forEach(e=>e.classList.remove(d))}n.addEventListener("click",()=>e.classList.add(i)),t.addEventListener("click",()=>e.classList.toggle(c)),a.addEventListener("click",()=>e.classList.remove(i)),l.addEventListener("click",()=>e.classList.remove(i)),r.addEventListener("click",()=>document.documentElement.requestFullscreen()),window.addEventListener("resize",()=>{e.querySelectorAll("*").forEach(e=>e.classList.add(d)),clearInterval(s),s=setTimeout(o,500)});const u=document.querySelectorAll(".menu__item");u.forEach(e=>{e.addEventListener("click",()=>{u.forEach(e=>e.classList.remove("menu__activo")),e.querySelector(".menu__submenu")&&e.classList.add("menu__activo")})})}}()}},o={};function n(t){var a=o[t];if(void 0!==a)return a.exports;var l=o[t]={exports:{}};return e[t](l,l.exports,n),l.exports}n.n=e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return n.d(o,{a:o}),o},n.d=(e,o)=>{for(var t in o)n.o(o,t)&&!n.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})},n.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{"use strict";n(398),n(431)})()})();
//# sourceMappingURL=app.js.map
